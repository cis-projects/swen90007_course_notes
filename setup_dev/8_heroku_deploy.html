
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Step 8: Deploy Project to Heroku &#8212; SWEN90007 Software Design and Architecture Course Notes</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Step 7: Connect IntelliJ Project to Local PostgreSQL Instance" href="7_connect_intellij_postgresql.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">SWEN90007 Software Design and Architecture Course Notes</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction/introduction.html">
   Introduction
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Workshops
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../workshops/workshop_1.html">
   Workshop 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../workshops/workshop_2.html">
   Workshop 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../workshops/workshop_3.html">
   Workshop 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../workshops/workshop_4.html">
   Workshop 4
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  First Java Web Application
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../first_java_app/introduction.html">
   Introduction
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Project Development Setup
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="1_intellij_install.html">
   Step 1: Install IntelliJ Professional Edition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2_tomcat_download.html">
   Step 2: Download Tomcat
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_postgresql_setup.html">
   Step 3: Setup PostgreSQL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4_create_project.html">
   Step 4: Create Project in IntelliJ
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5_github_setup.html">
   Step 5: Setup GitHub Repository
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6_github_clone.html">
   Step 6: Clone GitHub Repository
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7_connect_intellij_postgresql.html">
   Step 7: Connect IntelliJ Project to Local PostgreSQL Instance
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Step 8: Deploy Project to Heroku
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Frequently Asked Questions (FAQs)
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://www.notion.so/1d6be145ac5c496fb3880db430b93fab?v=664aac86a62e4ece9a4092126f8e2b7a">
   SWEN90007 Software Design and Architecture
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/setup_dev/8_heroku_deploy.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/cis-projects/swen90007_course_notes"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/cis-projects/swen90007_course_notes/issues/new?title=Issue%20on%20page%20%2Fsetup_dev/8_heroku_deploy.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-up-repository-to-work-with-heroku">
   Set Up Repository to Work with Heroku
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deploy-to-heroku">
   Deploy to Heroku
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-up-the-postgresql-database">
   Set Up the PostgreSQL Database
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Step 8: Deploy Project to Heroku</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-up-repository-to-work-with-heroku">
   Set Up Repository to Work with Heroku
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deploy-to-heroku">
   Deploy to Heroku
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#set-up-the-postgresql-database">
   Set Up the PostgreSQL Database
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="step-8-deploy-project-to-heroku">
<h1>Step 8: Deploy Project to Heroku<a class="headerlink" href="#step-8-deploy-project-to-heroku" title="Permalink to this headline">¶</a></h1>
<div class="section" id="set-up-repository-to-work-with-heroku">
<h2>Set Up Repository to Work with Heroku<a class="headerlink" href="#set-up-repository-to-work-with-heroku" title="Permalink to this headline">¶</a></h2>
<p>Open the project in IntelliJ and right-click on the project outermost folder and select New -&gt; File:</p>
<p><img alt="" src="../_images/8_heroku_deploy_10.png" /></p>
<p>Title the file ‘system.properties’:</p>
<p><img alt="" src="../_images/8_heroku_deploy_11.png" /></p>
<p>Enter the following into the file and save it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">java</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">version</span><span class="o">=</span><span class="mi">11</span>
</pre></div>
</div>
<p><img alt="" src="../_images/8_heroku_deploy_12.png" /></p>
<p>Once again, right-click on the project outermost folder and select New -&gt; File:</p>
<p><img alt="" src="../_images/8_heroku_deploy_10.png" /></p>
<p>Title the new file ‘Procfile’:</p>
<p><img alt="" src="../_images/8_heroku_deploy_13.png" /></p>
<p>If it prompts you to register file type association, select the first option and press OK:</p>
<p><img alt="" src="../_images/8_heroku_deploy_14.png" /></p>
<p>In the file, enter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>web: java $JAVA_OPTS -jar target/dependency/webapp-runner.jar $WEBAPP_RUNNER_OPTS --port $PORT target/demo-1.0-SNAPSHOT.war
</pre></div>
</div>
<p><img alt="" src="../_images/8_heroku_deploy_15.png" /></p>
</div>
<div class="section" id="deploy-to-heroku">
<h2>Deploy to Heroku<a class="headerlink" href="#deploy-to-heroku" title="Permalink to this headline">¶</a></h2>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>There are a number of ways to deploy the application to Heroku. You will need to decide as a team which option to
choose.</p>
<p>These methods are not cross-compatible - you cannot deploy with more than one option without making changes
to the project and the repository.</p>
</div>
<div class="note dropdown admonition">
<p class="admonition-title">Option 1: Deploy From GitHub</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only one team member needs to set this up.</p>
</div>
<p>Hooking Heroku into your GitHub repository is an easy choice and reduces work for all team members, as it does not
require them to set up anything for deployment.
If you choose to hook Heroku to the main branch of the repository, it will rebuild the application on every push to
main.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Be careful about pushing changes to GitHub after project submission. Changes will be automatically deployed
and might impact the markers’ ability to mark your project (i.e., if it
introduces a new bug).</p>
</div>
<p>First create a Heroku account <a class="reference external" href="https://www.heroku.com">here</a>. Only one team member needs to do this.</p>
<p>Select Create New Application:</p>
<p><img alt="" src="../_images/8_heroku_deploy_8.png" /></p>
<p>Enter an application name and select Create App:</p>
<p><img alt="" src="../_images/8_heroku_deploy_9.png" /></p>
<p>Update the pom.xml file to add the Heroku webapp-runner dependency:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">artifactItem</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">com</span><span class="o">.</span><span class="n">heroku</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">webapp</span><span class="o">-</span><span class="n">runner</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="mf">9.0.41.0</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">destFileName</span><span class="o">&gt;</span><span class="n">webapp</span><span class="o">-</span><span class="n">runner</span><span class="o">.</span><span class="n">jar</span><span class="o">&lt;/</span><span class="n">destFileName</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">artifactItem</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The full file is below for ease. You <em>should not</em> paste the entire file as it will overwrite your local properties.</p>
<div class="note dropdown admonition">
<p class="admonition-title">pom.xml File</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;demo&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;demo&lt;/name&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;properties&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;4.0.1&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;
            &lt;version&gt;${junit.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
            &lt;version&gt;${junit.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;phase&gt;package&lt;/phase&gt;
                        &lt;goals&gt;&lt;goal&gt;copy&lt;/goal&gt;&lt;/goals&gt;
                        &lt;configuration&gt;
                            &lt;artifactItems&gt;
                                &lt;artifactItem&gt;
                                    &lt;groupId&gt;com.heroku&lt;/groupId&gt;
                                    &lt;artifactId&gt;webapp-runner&lt;/artifactId&gt;
                                    &lt;version&gt;9.0.41.0&lt;/version&gt;
                                    &lt;destFileName&gt;webapp-runner.jar&lt;/destFileName&gt;
                                &lt;/artifactItem&gt;
                            &lt;/artifactItems&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;
                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.0.3&lt;/version&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</pre></div>
</div>
</div>
<p>Push this change to the repository.</p>
<p>Login to Heroku and select the Application:</p>
<p><img alt="" src="../_images/8_heroku_deploy_16.png" /></p>
<p>Select Deploy:</p>
<p><img alt="" src="../_images/8_heroku_deploy_17.png" /></p>
<p>Select Connect to GitHub and follow the prompts:</p>
<p><img alt="" src="../_images/8_heroku_deploy_20.png" /></p>
<p>Once connected, select drop-down menu and choose the GitHub Classroom SWEN900072021:</p>
<p><img alt="" src="../_images/8_heroku_deploy_39.png" /></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You must be Admin of the project repository in order for Heroku to be able to connect to it.</p>
</div>
<p>Select Search. Once Heroku finds the repository, select Connect:</p>
<p><img alt="" src="../_images/8_heroku_deploy_18.png" /></p>
<p><img alt="" src="../_images/8_heroku_deploy_19.png" /></p>
<p>Follow the prompts to enable automatic deployment and select a branch you wish to deploy <em>(this is up to your team to
decide)</em>:</p>
<p><img alt="" src="../_images/8_heroku_deploy_23.png" /></p>
<p>It will take up a minute or two to build, but once done, select View to view your application:</p>
<p><img alt="" src="../_images/8_heroku_deploy_24.png" /></p>
<p>Now the code on the branch selected will be deployed to Heroku.</p>
</div>
<div class="note dropdown admonition">
<p class="admonition-title">Option 2: Deploy From Terminal/IDE</summary></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>All team members should set this up in order to deploy the application.</p>
</div>
<p>Download and install the Heroku CLI:</p>
<div class="admonition-resource admonition">
<p class="admonition-title">Resource</p>
<p><a class="reference external" href="https://devcenter.heroku.com/articles/heroku-cli">Download Heroku CLI</a></p>
</div>
<p>Before we can deploy to Heroku, we must create a Heroku application. <em>This part should only be done by one
team member (each team member does not need to have their own Heroku application)</em>.</p>
<p>Once you have installed the Heroku CLI, open a terminal and log into Heroku:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">heroku</span> <span class="n">login</span>
</pre></div>
</div>
<p>Before the project can be deployed to Heroku, we need to add a Heroku Maven dependency.
The code to add to the pom file is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">plugin</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">com</span><span class="o">.</span><span class="n">heroku</span><span class="o">.</span><span class="n">sdk</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">heroku</span><span class="o">-</span><span class="n">maven</span><span class="o">-</span><span class="n">plugin</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="mf">3.0.3</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">plugin</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The full file is below for ease. You <em>should not</em> paste the entire file as it will overwrite your local properties.</p>
<div class="note dropdown admonition">
<p class="admonition-title">pom.xml File</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;com.example&lt;/groupId&gt;
    &lt;artifactId&gt;demo&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;demo&lt;/name&gt;
    &lt;packaging&gt;war&lt;/packaging&gt;

    &lt;properties&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;
    &lt;/properties&gt;

    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
            &lt;version&gt;4.0.1&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;
            &lt;version&gt;${junit.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
            &lt;version&gt;${junit.version}&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.3.1&lt;/version&gt;
            &lt;/plugin&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;
                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;3.0.3&lt;/version&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</pre></div>
</div>
</div>
<p>Open a terminal window again, navigate to the root of the Git repository.<br />
To create the repository as a Heroku application, enter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">heroku</span> <span class="n">create</span>
</pre></div>
</div>
<p>This will create the application on Heroku:</p>
<p><img alt="" src="../_images/8_heroku_deploy_1.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can rename the application (and change the URL) by logging into Heroku and going to settings.</p>
</div>
<p>To deploy it to the URL above, enter the following into terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mvn</span> <span class="n">clean</span> <span class="n">heroku</span><span class="p">:</span><span class="n">deploy</span><span class="o">-</span><span class="n">war</span>
</pre></div>
</div>
<p>It will take a few minutes to build:</p>
<p><img alt="" src="../_images/8_heroku_deploy_2.png" /></p>
<p>Now you can go to the URL above, and your project will be deployed.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Each time you want to deploy to Heroku, you need to run these same commands.</p>
</div>
<p>To make life easier, you can create a Heroku configuration in IntelliJ to allow you to deploy changes to the application
with only one click. This is entirely optional.</p>
<p>Open the project in IntelliJ and select Add Configuration:</p>
<p><img alt="" src="../_images/8_heroku_deploy_3.png" /></p>
<p>Select the icon for Add and then scroll down and select Maven:</p>
<p><img alt="" src="../_images/8_heroku_deploy_4.png" /></p>
<p>Enter the following into the Command Line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">heroku</span><span class="p">:</span><span class="n">deploy</span><span class="o">-</span><span class="n">war</span>
</pre></div>
</div>
<p><img alt="" src="../_images/8_heroku_deploy_5.png" /></p>
<p>Select Run:</p>
<p><img alt="" src="../_images/8_heroku_deploy_6.png" /></p>
<p>It will take a few minutes to build, but once done, the application will be viewable at the URL:</p>
<p><img alt="" src="../_images/8_heroku_deploy_7.png" /></p>
<p>Now everytime you make changes and want to deploy, you can select Run Configuration.</p>
</div>
<div class="note dropdown admonition">
<p class="admonition-title">Option 3: Deploy Using WAR File</p>
<p>This is not covered, but you can find details on the
<a class="reference external" href="https://devcenter.heroku.com/articles/war-deployment#deployment-with-the-heroku-cli">Heroku Developer Centre</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even after deploying to Heroku, you can still use the local Tomcat configuration created in
<a class="reference internal" href="4_create_project.html"><span class="doc std std-doc">Step 4: Setup PostgreSQL</span></a> to deploy changes locally before pushing to Heroku.</p>
</div>
</div>
<div class="section" id="set-up-the-postgresql-database">
<h2>Set Up the PostgreSQL Database<a class="headerlink" href="#set-up-the-postgresql-database" title="Permalink to this headline">¶</a></h2>
<p>We can no longer use the local instance of the PostgreSQL database, so we have to migrate to a Heroku managed
PostgreSQL instance.</p>
<p>Log into Heroku and select the application. Then select Resources:</p>
<p><img alt="" src="../_images/8_heroku_deploy_25.png" /></p>
<p>Search and select Heroku PostgreSQL:</p>
<p><img alt="" src="../_images/8_heroku_deploy_26.png" /></p>
<p>Select Submit Order Form (make sure you have selected the free hobby-development database):</p>
<p><img alt="" src="../_images/8_heroku_deploy_27.png" /></p>
<p>Once it has been added on to the application, launch Heroku Postgres</p>
<p><img alt="" src="../_images/8_heroku_deploy_28.png" /></p>
<p>Select Settings:</p>
<p><img alt="" src="../_images/8_heroku_deploy_29.png" /></p>
<p>Select View Credentials:</p>
<p><img alt="" src="../_images/8_heroku_deploy_30.png" /></p>
<p>Launch pgAdmin on your computer. Right-click the server and select Create -&gt; Server:</p>
<p><img alt="" src="../_images/8_heroku_deploy_31.png" /></p>
<p>In the pop-up dialog box, enter a name (it does not matter what you choose):</p>
<p><img alt="" src="../_images/8_heroku_deploy_32.png" /></p>
<p>Select the Connection tab and enter the credentials provided by Heroku:</p>
<p><img alt="" src="../_images/8_heroku_deploy_34.png" /></p>
<p><img alt="" src="../_images/8_heroku_deploy_33.png" /></p>
<p>Select the Advanced tab and enter the name of the database in the DB Restriction field. If you do not do this, you will
see thousands of other databases managed by Heroku. Select Save:</p>
<p><img alt="" src="../_images/8_heroku_deploy_35.png" /></p>
<p>In order to test the connection, select the newly connected database and right-click on Tables and select Query Tool:</p>
<p><img alt="" src="../_images/8_heroku_deploy_36.png" /></p>
<p>Enter a random SQL query and click the Run icon:</p>
<p><img alt="" src="../_images/8_heroku_deploy_37.png" /></p>
<p>It should return a successful query, and the table should now be visible once you refresh:</p>
<p><img alt="" src="../_images/8_heroku_deploy_38.png" /></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./setup_dev"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="7_connect_intellij_postgresql.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Step 7: Connect IntelliJ Project to Local PostgreSQL Instance</p>
        </div>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By School of Computing and Information Systems, The University of Melbourne<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>